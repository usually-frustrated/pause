<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>[[ .basics.name ]] - Resume</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      background: #fff;
      padding: 2em;
      max-width: 8.5in;
      margin: 0 auto;
    }

    h1 {
      font-size: 2.2em;
      margin: 0;
      font-weight: normal;
    }

    h2 {
      font-size: 1.3em;
      margin: 1.5em 0 0.8em 0;
      border-bottom: 1px solid #ccc;
      padding-bottom: 0.3em;
    }

    h3 {
      font-size: 1.1em;
      margin: 0.5em 0;
      border-bottom: 1px solid #ccc;
      padding-bottom: 0.3em;
    }

    a {
      color: #0066cc;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }

    p {
      margin: 0.3em 0;
    }

    ul {
      margin: 0.3em 0;
      padding-left: 1.5em;
    }

    li {
      margin-bottom: 0.2em;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5em;
    }

    .header-left,
    .header-right {
      flex: 0 0 20%;
      font-size: 0.95em;
    }

    .header-left {
      text-align: left;
    }

    .header-center {
      flex: 0 0 60%;
      text-align: center;
    }

    .header-right {
      text-align: right;
    }

    .header-left div,
    .header-right div {
      margin: 0.2em 0;
    }

    .experience-group {
      margin-bottom: 1.5em;
    }

    .experience-role {
      margin-bottom: 1em;
    }

    .experience-role:not(:last-child) {
      border-bottom: 1px dashed #eee;
      padding-bottom: 0.8em;
    }

    .role-header {
      display: flex;
      justify-content: space-between;
      font-weight: bold;
      margin-bottom: 0.3em;
    }

    .role-date {
      font-weight: normal;
      font-style: italic;
    }

    .company-location {
      font-size: 0.9em;
      color: #666;
      margin-bottom: 0.5em;
    }

    .education-item {
      margin-bottom: 1em;
    }

    .education-header {
      display: flex;
      justify-content: space-between;
      margin: 0.5em 0;
    }

    .skills-table {
      width: 100%;
      border-collapse: collapse;
      border-top: 1px dashed rgba(0, 0, 0, 0.3);
      border-bottom: 1px dashed rgba(0, 0, 0, 0.3);
    }

    .skills-table tr:not(:last-child) {
      border-bottom: 1px dashed rgba(0, 0, 0, 0.3);
    }

    .skills-table td {
      vertical-align: top;
      padding: 0.6em 0;
    }

    .skill-name {
      width: 28%;
      font-weight: bold;
      padding-right: 1.5em;
      text-align: left;
    }

    .skill-keywords {
      width: 68%;
      font-size: 0.9em;
      text-align: left;
    }

    .publication {
      display: flex;
      justify-content: space-between;
      margin-bottom: 0.5em;
    }

    @media print {
      body {
        padding: 0;
      }
    }

    @media (max-width: 600px) {
      .header {
        flex-direction: column;
      }

      .header-left,
      .header-center,
      .header-right {
        flex: 1 1 100%;
        text-align: center;
        margin: 0.5em 0;
      }

      .role-header,
      .education-header,
      .publication {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>

  [[ if .basics ]]
  <!-- Header Section -->
  [[ $locationStr := "" ]]
  [[ if .basics.location ]]
    [[ if and .basics.location.city .basics.location.region ]]
      [[ $locationStr = printf "%s, %s" .basics.location.city .basics.location.region ]]
    [[ else if .basics.location.city ]]
      [[ $locationStr = .basics.location.city ]]
    [[ else if .basics.location.region ]]
      [[ $locationStr = .basics.location.region ]]
    [[ end ]]
  [[ end ]]

  [[ $githubUsername := "" ]]
  [[ $linkedinUsername := "" ]]
  [[ if .basics.profiles ]]
    [[ range .basics.profiles ]]
      [[ if eq .network "GitHub" ]]
        [[ $githubUsername = .username ]]
      [[ end ]]
      [[ if eq .network "LinkedIn" ]]
        [[ $linkedinUsername = .username ]]
      [[ end ]]
    [[ end ]]
  [[ end ]]

  <div class="header">
    <div class="header-left">
      [[ if .basics.phone ]]<div>[[ .basics.phone ]]</div>[[ end ]]
      [[ if $locationStr ]]<div>[[ $locationStr ]]</div>[[ end ]]
      [[ if .basics.email ]]<div><a href="mailto:[[ .basics.email ]]">[[ .basics.email ]]</a></div>[[ end ]]
    </div>
    <div class="header-center">
      <h1>[[ .basics.name ]]</h1>
      [[ if .basics.label ]]<div>[[ .basics.label ]]</div>[[ end ]]
    </div>
    <div class="header-right">
      [[ if $githubUsername ]]
        <div><a href="https://github.com/[[ $githubUsername ]]">GitHub: [[ $githubUsername ]]</a></div>
      [[ end ]]
      [[ if $linkedinUsername ]]
        <div><a href="https://www.linkedin.com/in/[[ $linkedinUsername ]]">LinkedIn: [[ $linkedinUsername ]]</a></div>
      [[ end ]]
    </div>
  </div>
  [[ end ]]

  <!-- Objective/Summary Section -->
  [[ if .basics.summary ]]
  <h2>Objective</h2>
  <p>[[ .basics.summary ]]</p>
  [[ end ]]

  <!-- Experience Section -->
  [[ if .work ]]
  <h2>Experience</h2>
  [[ range .work ]]
    [[ $dateRange := printf "%s - %s" (.startDate | default "") (.endDate | default "Present") ]]
    <div class="experience-group">
      <h3>
        [[ .name ]]
        <span style="float: right; font-weight: normal; font-size: 0.9em;">[[ $dateRange ]]</span>
      </h3>
      [[ if .location ]]
      <div class="company-location">[[ .location ]]</div>
      [[ end ]]
      <div class="experience-role">
        <div class="role-header">
          <span>[[ .position ]]</span>
        </div>
        [[ if .summary ]]
        <p style="font-size: 0.95em;">[[ .summary ]]</p>
        [[ end ]]
        [[ if .highlights ]]
        <ul>
          [[ range .highlights ]]
          <li>[[ . ]]</li>
          [[ end ]]
        </ul>
        [[ end ]]
      </div>
    </div>
  [[ end ]]
  [[ end ]]

  <!-- Education Section -->
  [[ if .education ]]
  <h2>Education</h2>
  [[ range .education ]]
    [[ $degree := "" ]]
    [[ if and .studyType .area ]]
      [[ $degree = printf "%s in %s" .studyType .area ]]
    [[ else if .studyType ]]
      [[ $degree = .studyType ]]
    [[ else if .area ]]
      [[ $degree = .area ]]
    [[ end ]]
    [[ $year := .endDate ]]
    [[ if not $year ]][[ $year = .startDate | default "" ]][[ end ]]
    <div class="education-item">
      <h3 class="education-header">
        <span>[[ $degree ]]</span>
        <span>[[ $year ]]</span>
      </h3>
      <div style="font-size: 0.9em; color: #666;">[[ .institution ]]</div>
    </div>
  [[ end ]]
  [[ end ]]

  <!-- Skills Section -->
  [[ if .skills ]]
  <h2>Skills</h2>
  <table class="skills-table">
    <tbody>
      [[ range .skills ]]
      <tr>
        <td class="skill-name">[[ .name ]]</td>
        <td class="skill-keywords">[[ join .keywords ", " ]]</td>
      </tr>
      [[ end ]]
    </tbody>
  </table>
  [[ end ]]

  <!-- Publications Section -->
  [[ if .publications ]]
  <h2>Publications</h2>
  [[ range .publications ]]
  <div class="publication">
    <div>
      <a href="[[ .url ]]">[[ .name ]]</a>
      [[ if .publisher ]]([[ .publisher ]])[[ end ]]
    </div>
    [[ if .releaseDate ]]<div>[[ .releaseDate ]]</div>[[ end ]]
  </div>
  [[ end ]]
  [[ end ]]

</body>
</html>
